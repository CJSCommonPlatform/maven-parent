language: java
jdk:
- oraclejdk8
cache:
  directories:
  - "$HOME/.m2"
before_install:
- git clone https://github.com/CJSCommonPlatform/travis-settings.git target/travis-settings
install:
- cp -f $JAVA_HOME/jre/lib/security/cacerts target/travis-settings/cacerts
- chmod u+w target/travis-settings/cacerts
- "$JAVA_HOME/jre/bin/keytool -import -v -noprompt -storepass changeit -storetype
  jks -trustcacerts -alias IndigoBlueRoot -file target/travis-settings/ROOT-CA.crt
  -keystore target/travis-settings/cacerts"
script: mvn -Djavax.net.ssl.trustStore=$PWD/target/travis-settings/cacerts -B -V --settings
  target/travis-settings/settings.xml verify
after_success:
- '[[ $TRAVIS_BRANCH == "master" && $TRAVIS_PULL_REQUEST == "false" ]] || [[ $TRAVIS_TAG
  == release-* ]] && mvn -Djavax.net.ssl.trustStore=$PWD/target/travis-settings/cacerts
  -DskipTests=true -B -V --errors deploy --settings target/travis-settings/settings.xml'
env:
  global:
  - secure: RWkO1OLuFWwE976NoOQGOVODV5dV8yUqU1m9fuGpWmdFlXII4Yfs37zCmX2mdPuqogx7Q7miC2ETcmZ89XSdy0x3/wA8LoBEaw1UWg5s+JSDjg9GPtdXDS95mL6yPtseJlMG0864V9RMo2SAhM16Zgfzl8zpDeg2UAG5GU77Qp4rhm+lGGHW6/TbAWugFwC68o/G95MYeGVxCVCaKJCBFUO2UyDtd5OiCen6SznSv6v5Dew9rov4Z6SRENeKQQGZ2XL32Yrb7ffUoz0RclFGMzi/8w4GWAUPz/koyhi6aeso+/RPtT0HXoXVs0ojZlJX/oFuvN99DznR+4nqdxlYM8GSp3A6VOtH7ztddJB+jurGR7issKlCLq0hf81QbWME0P1ARyEQxPmuH9NXKvAC1+eqrbgyYQXk1bJeniFsbcnXZKPeuJbBq9Y5mB9/qzfJ4OE1IGBq8l7ZfgwOyyCGZL70Vu+Y7ZB8TP6iLlpYD66ghWDW3Tup2uDFaL4P794TdIQf5v/FJtPdbEgK+Elmoh50NYB7FjzLdefQ8CUq5d6ia/xMkt7HG7i4WmNkkvehMiQILGvFsMEBeHmVKhnLrGQXYR9dxTDl/XG/zxcRKSrhQGNnyCMtjV3KkbFzmOgcfSQwsJlYLu6Djn6HsuVi9FI0LnAp1eMERvHGGeGOvus=
  - secure: OZB8BuobheLzmpbEfv7tDeF8s0Oh5o4MZm6gXlo50vvabXYGK7XGSbkMR4RSFt/LiDduAzfQMGofSJ6d6rR6K4LcV7iEY+jcmNlfOFEWNl4XdmgUoIo22S/kAwB8MgPIbzRbdkqlNSXvVecSwesMT51ait/9z+ISIhzJr24webC+20nq7tkjQTVLu6hr8biLPsjAX2jaGimg76Es8Hl3NtVMvX8aaXejHtnbsTon+P8duSchYWCNMDXnI6TDbF1i3SrfuRcgjXrjQGiAXUP3LUmCAep/tFokgu0J6RrlaZ2M4qGNVOrGrwQ9+++OW2Yac7WsF7Li5o0+tsNSzXcg1GQJnR6wRBD+qY5huZWgSOiuKewCjfIexFoTks5dDctt7XQQohrumAbZVQ9LGUNjZn0XR2A2q1S8sHiUhI1H5tErinH9EVRUBNLWjPAVgpGHOGfMNOSpEiuBc1ZWiAWYOB1oJwGDeNDrJG135F75PNZlq4mAiKhb8LrITpWbt3JgTNTo7XvAQPDMmSnSbN8gpE5NbDP7uO8CSBXvGAR9dLYVN+pq42SzqC5BxHYJGean6SzCYZR1sz2O6KQ/PWvGtYlsmbdEqx2/cSU/43/jwcBoZLMFfeULjXEJvgjTsnXgbHqz3Xvhr81vEWBbqYNAMRAdABcZTtwENEt4xR4r0cw=
