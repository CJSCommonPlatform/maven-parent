language: java
jdk:
- oraclejdk8
cache:
  directories:
  - "$HOME/.m2"
before_install:
- git clone https://github.com/CJSCommonPlatform/travis-settings.git target/travis-settings
install:
- cp -f $JAVA_HOME/jre/lib/security/cacerts target/travis-settings/cacerts
- chmod u+w target/travis-settings/cacerts
- "$JAVA_HOME/jre/bin/keytool -import -v -noprompt -storepass changeit -storetype
  jks -trustcacerts -alias IndigoBlueRoot -file target/travis-settings/ROOT-CA.crt
  -keystore target/travis-settings/cacerts"
script: mvn -Djavax.net.ssl.trustStore=$PWD/target/travis-settings/cacerts -B -V --settings
  target/travis-settings/settings.xml verify
after_success:
- '[[ $TRAVIS_BRANCH == "master" && $TRAVIS_PULL_REQUEST == "false" ]] || [[ $TRAVIS_TAG
  == release-* ]] && mvn -Djavax.net.ssl.trustStore=$PWD/target/travis-settings/cacerts
  -DskipTests=true -B -V --errors deploy --settings target/travis-settings/settings.xml'
env:
  global:
    secure: L+0eNK2Sjb+HmV8xKYVXAfXrO+CQvThU4mJ/Rzt9kVCj8gvhk3qo/7bXbkq/hheHoFpEGXhnn9OSUgxK4zlBgMXIEgLgd9jAH1lUwLBonJubPMtZdYlQVeNSTiGCXPVNLuFKxMo+O3A4tmduJBrB0BP9Mkvki5z//sZy8GiciCCoGOv0GEwJb1sD3BvHH5QXg4cR76N7Pqu+XTXG1aMQjhP7vIBIGL1U/YX8c2dmp3w2resVHvYbO+cwvVd4PwSpzpoD6DHKjzJwjy35INSLgVUk5CCUlo+bQVpH8S+zJ/ENA9YsWrz8SVU7vaeYXxguqViPjtVsb8fNjZXCJ/tzzOC6WpWG1xPnnbqtKugqKv4k7n7eNs2n52s9Y6GpmOhocNC/8BGhSQoQffRbkhXt/3eohg3jf1MG+dzOFAyLk9qgjnDfcbnSaIXEqM6AAdnxaDZC9Tner2pga8N5JGEhfeN8OGs59ZrgTTyoQelxyVxHJFMvZPwJQPrJ1apq3M7R3TMSS/jcr6YLN0pTg6sMER78QHAoO8IVV1BGjftI21G0D6uOykdRsJK4+zDiE+2oWzxHal0Y260U1DT8ndWEDQ+Q7m0/YfIdAxwoSiC4ZmZNFQi2bpPDoIbOGRE7Gb3mnW5lolJLLLoj3fgh2oIbLySoE/GsOa4v7W0wGLc4GlQ=
